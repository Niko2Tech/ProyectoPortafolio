import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  console.log('ðŸŒ± Iniciando seed...');

  // Seed de roles
  const rolesData = [
    { id: 1, nombre: 'Venta', descripcion: 'Vende producto' },
    { id: 2, nombre: 'Admin', descripcion: 'Administra todos los servicios' },
    { id: 3, nombre: 'Bodeguero', descripcion: 'Inventario' },
  ];

  console.log('ðŸ“ Creando roles...');
  for (const rol of rolesData) {
    await prisma.rol.upsert({
      where: { id: rol.id },
      update: {},
      create: rol,
    });
  }

  // Datos de regiones y comunas
  const regionesData = [
    {
      name: 'Arica y Parinacota',
      romanNumber: 'XV',
      number: '15',
      abbreviation: 'AP',
      communes: ['Arica', 'Camarones', 'General Lagos', 'Putre'],
    },
    {
      name: 'TarapacÃ¡',
      romanNumber: 'I',
      number: '1',
      abbreviation: 'TA',
      communes: [
        'Alto Hospicio',
        'CamiÃ±a',
        'Colchane',
        'Huara',
        'Iquique',
        'Pica',
        'Pozo Almonte',
      ],
    },
    {
      name: 'Antofagasta',
      romanNumber: 'II',
      number: '2',
      abbreviation: 'AN',
      communes: [
        'Antofagasta',
        'Calama',
        'MarÃ­a Elena',
        'Mejillones',
        'OllagÃ¼e',
        'San Pedro de Atacama',
        'Sierra Gorda',
        'Taltal',
        'Tocopilla',
      ],
    },
    {
      name: 'Atacama',
      romanNumber: 'III',
      number: '3',
      abbreviation: 'AT',
      communes: [
        'Alto del Carmen',
        'Caldera',
        'ChaÃ±aral',
        'CopiapÃ³',
        'Diego de Almagro',
        'Freirina',
        'Huasco',
        'Tierra Amarilla',
        'Vallenar',
      ],
    },
    {
      name: 'Coquimbo',
      romanNumber: 'IV',
      number: '4',
      abbreviation: 'CO',
      communes: [
        'Andacollo',
        'Canela',
        'CombarbalÃ¡',
        'Coquimbo',
        'Illapel',
        'La Higuera',
        'La Serena',
        'Los Vilos',
        'Monte Patria',
        'Ovalle',
        'Paiguano',
        'Punitaqui',
        'RÃ­o Hurtado',
        'Salamanca',
        'VicuÃ±a',
      ],
    },
    {
      name: 'ValparaÃ­so',
      romanNumber: 'V',
      number: '5',
      abbreviation: 'VA',
      communes: [
        'Algarrobo',
        'Cabildo',
        'Calera',
        'Calle Larga',
        'Cartagena',
        'Casablanca',
        'Catemu',
        'ConcÃ³n',
        'El Quisco',
        'El Tabo',
        'Hijuelas',
        'Isla de Pascua',
        'Juan FernÃ¡ndez',
        'La Cruz',
        'La Ligua',
        'Limache',
        'Llaillay',
        'Los Andes',
        'Nogales',
        'OlmuÃ©',
        'Panquehue',
        'Papudo',
        'Petorca',
        'PuchuncavÃ­',
        'Putaendo',
        'Quillota',
        'QuilpuÃ©',
        'Quintero',
        'Rinconada',
        'San Antonio',
        'San Esteban',
        'San Felipe',
        'Santa MarÃ­a',
        'Santo Domingo',
        'ValparaÃ­so',
        'Villa Alemana',
        'ViÃ±a del Mar',
        'Zapallar',
      ],
    },
    {
      name: 'Metropolitana de Santiago',
      romanNumber: 'XIII',
      number: '13',
      abbreviation: 'RM',
      communes: [
        'AlhuÃ©',
        'Buin',
        'Calera de Tango',
        'Cerrillos',
        'Cerro Navia',
        'Colina',
        'ConchalÃ­',
        'CuracavÃ­',
        'El Bosque',
        'El Monte',
        'EstaciÃ³n Central',
        'Huechuraba',
        'Independencia',
        'Isla de Maipo',
        'La Cisterna',
        'La Florida',
        'La Granja',
        'La Pintana',
        'La Reina',
        'Lampa',
        'Las Condes',
        'Lo Barnechea',
        'Lo Espejo',
        'Lo Prado',
        'Macul',
        'MaipÃº',
        'MarÃ­a Pinto',
        'Melipilla',
        'Ã‘uÃ±oa',
        'Padre Hurtado',
        'Paine',
        'Pedro Aguirre Cerda',
        'PeÃ±aflor',
        'PeÃ±alolÃ©n',
        'Pirque',
        'Providencia',
        'Pudahuel',
        'Puente Alto',
        'Quilicura',
        'Quinta Normal',
        'Recoleta',
        'Renca',
        'San Bernardo',
        'San JoaquÃ­n',
        'San JosÃ© de Maipo',
        'San Miguel',
        'San Pedro',
        'San RamÃ³n',
        'Santiago',
        'Talagante',
        'Tiltil',
        'Vitacura',
      ],
    },
    {
      name: "Libertador Gral. Bernardo O'Higgins",
      romanNumber: 'VI',
      number: '6',
      abbreviation: 'LI',
      communes: [
        'Chimbarongo',
        'ChÃ©pica',
        'Codegua',
        'Coinco',
        'Coltauco',
        'DoÃ±ihue',
        'Graneros',
        'La Estrella',
        'Las Cabras',
        'Litueche',
        'Lolol',
        'MachalÃ­',
        'Malloa',
        'Marchihue',
        'Nancagua',
        'Navidad',
        'Olivar',
        'Palmilla',
        'Paredones',
        'Peralillo',
        'Peumo',
        'Pichidegua',
        'Pichilemu',
        'Placilla',
        'Pumanque',
        'Quinta de Tilcoco',
        'Rancagua',
        'Rengo',
        'RequÃ­noa',
        'San Fernando',
        'San Francisco de Mostazal',
        'San Vicente de Tagua Tagua',
        'Santa Cruz',
      ],
    },
    {
      name: 'Maule',
      romanNumber: 'VII',
      number: '7',
      abbreviation: 'ML',
      communes: [
        'Cauquenes',
        'Chanco',
        'ColbÃºn',
        'ConstituciÃ³n',
        'Curepto',
        'CuricÃ³',
        'Empedrado',
        'HualaÃ±Ã©',
        'LicantÃ©n',
        'Linares',
        'LongavÃ­',
        'Maule',
        'Molina',
        'Parral',
        'Pelarco',
        'Pelluhue',
        'Pencahue',
        'Rauco',
        'Retiro',
        'Romeral',
        'RÃ­o Claro',
        'Sagrada Familia',
        'San Clemente',
        'San Javier de Loncomilla',
        'San Rafael',
        'Talca',
        'Teno',
        'VichuquÃ©n',
        'Villa Alegre',
        'Yerbas Buenas',
      ],
    },
    {
      name: 'Ã‘uble',
      romanNumber: 'XVI',
      number: '16',
      abbreviation: 'NB',
      communes: [
        'Bulnes',
        'ChillÃ¡n Viejo',
        'ChillÃ¡n',
        'Cobquecura',
        'Coelemu',
        'Coihueco',
        'El Carmen',
        'Ninhue',
        'Ã‘iquÃ©n',
        'Pemuco',
        'Pinto',
        'Portezuelo',
        'QuillÃ³n',
        'Quirihue',
        'RÃ¡nquil',
        'San Carlos',
        'San FabiÃ¡n',
        'San Ignacio',
        'San NicolÃ¡s',
        'Treguaco',
        'Yungay',
      ],
    },
    {
      name: 'BiobÃ­o',
      romanNumber: 'VIII',
      number: '8',
      abbreviation: 'BI',
      communes: [
        'Alto BiobÃ­o',
        'Antuco',
        'Arauco',
        'Cabrero',
        'CaÃ±ete',
        'Chiguayante',
        'ConcepciÃ³n',
        'Contulmo',
        'Coronel',
        'Curanilahue',
        'Florida',
        'HualpÃ©n',
        'Hualqui',
        'Laja',
        'Lebu',
        'Los Ãlamos',
        'Los Ãngeles',
        'Lota',
        'MulchÃ©n',
        'Nacimiento',
        'Negrete',
        'Penco',
        'Quilaco',
        'Quilleco',
        'San Pedro de la Paz',
        'San Rosendo',
        'Santa BÃ¡rbara',
        'Santa Juana',
        'Talcahuano',
        'TirÃºa',
        'TomÃ©',
        'Tucapel',
        'Yumbel',
      ],
    },
    {
      name: 'AraucanÃ­a',
      romanNumber: 'IX',
      number: '9',
      abbreviation: 'AR',
      communes: [
        'Angol',
        'Carahue',
        'Cholchol',
        'Collipulli',
        'Cunco',
        'CuracautÃ­n',
        'Curarrehue',
        'Ercilla',
        'Freire',
        'Galvarino',
        'Gorbea',
        'Lautaro',
        'Loncoche',
        'Lonquimay',
        'Los Sauces',
        'Lumaco',
        'Melipeuco',
        'Nueva Imperial',
        'Padre las Casas',
        'Perquenco',
        'PitrufquÃ©n',
        'PucÃ³n',
        'PurÃ©n',
        'Renaico',
        'Saavedra',
        'Temuco',
        'Teodoro Schmidt',
        'ToltÃ©n',
        'TraiguÃ©n',
        'Victoria',
        'VilcÃºn',
        'Villarrica',
      ],
    },
    {
      name: 'Los RÃ­os',
      romanNumber: 'XIV',
      number: '14',
      abbreviation: 'LR',
      communes: [
        'Corral',
        'Futrono',
        'La UniÃ³n',
        'Lago Ranco',
        'Lanco',
        'Los Lagos',
        'Mariquina',
        'MÃ¡fil',
        'Paillaco',
        'Panguipulli',
        'RÃ­o Bueno',
        'Valdivia',
      ],
    },
    {
      name: 'Los Lagos',
      romanNumber: 'X',
      number: '10',
      abbreviation: 'LL',
      communes: [
        'Ancud',
        'Calbuco',
        'Castro',
        'ChaitÃ©n',
        'Chonchi',
        'CochamÃ³',
        'Curaco de VÃ©lez',
        'Dalcahue',
        'Fresia',
        'Frutillar',
        'FutaleufÃº',
        'HualaihuÃ©',
        'Llanquihue',
        'Los Muermos',
        'MaullÃ­n',
        'Osorno',
        'Palena',
        'Puerto Montt',
        'Puerto Octay',
        'Puerto Varas',
        'PuqueldÃ³n',
        'Purranque',
        'Puyehue',
        'QueilÃ©n',
        'QuellÃ³n',
        'Quemchi',
        'Quinchao',
        'RÃ­o Negro',
        'San Juan de la Costa',
        'San Pablo',
      ],
    },
    {
      name: 'AisÃ©n del Gral. Carlos IbÃ¡Ã±ez del Campo',
      romanNumber: 'XI',
      number: '11',
      abbreviation: 'AI',
      communes: [
        'AisÃ©n',
        'Chile Chico',
        'Cisnes',
        'Cochrane',
        'Coyhaique',
        'Guaitecas',
        'Lago Verde',
        "O'Higgins",
        'RÃ­o IbÃ¡Ã±ez',
        'Tortel',
      ],
    },
    {
      name: 'Magallanes y de la AntÃ¡rtica Chilena',
      romanNumber: 'XII',
      number: '12',
      abbreviation: 'MA',
      communes: [
        'AntÃ¡rtica',
        'Cabo de Hornos (Ex Navarino)',
        'Laguna Blanca',
        'Natales',
        'Porvenir',
        'Primavera',
        'Punta Arenas',
        'RÃ­o Verde',
        'San Gregorio',
        'Timaukel',
        'Torres del Paine',
      ],
    },
  ];

  console.log('ðŸŒ Creando regiones y comunas...');

  for (const regionData of regionesData) {
    // Crear la regiÃ³n
    const region = await prisma.region.upsert({
      where: { codigo: regionData.abbreviation },
      update: {},
      create: {
        nombre: regionData.name,
        codigo: regionData.abbreviation,
      },
    });

    console.log(`ðŸ“ RegiÃ³n creada: ${region.nombre}`);

    // Crear las comunas para esta regiÃ³n
    for (const comunaNombre of regionData.communes) {
      await prisma.comuna.upsert({
        where: {
          nombre_regionId: {
            nombre: comunaNombre,
            regionId: region.id,
          },
        },
        update: {},
        create: {
          nombre: comunaNombre,
          regionId: region.id,
        },
      });
    }

    console.log(
      `  âœ… ${regionData.communes.length} comunas creadas para ${region.nombre}`,
    );
  }

  console.log('ðŸŽ‰ Seed completado exitosamente!');
}

main()
  .catch((e) => {
    console.error('âŒ Error en seed:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
